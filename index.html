<!DOCTYPE html>
<html lang="en">
	<head>
		<title>XR.js | JavaScript XR Library</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
		<meta name="keywords" content="WebXR, ThreeJS, XR.js, VR, AR, JavaScript" />
		<meta name="description" content="JavaScript library for XR experiences. ðŸ¥½" />
		<link type="text/css" rel="stylesheet" href="/css/main.css" />
		<meta name="apple-mobile-web-app-capable"           content="yes" />
		<meta name="apple-mobile-web-app-title"             content="XR.js" />
		<meta name="apple-mobile-web-app-status-bar-style"  content="black" />
		<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icon/152.png?v=2" type="image/png" />
		<link rel="apple-touch-icon" sizes="167x167" href="/assets/img/icon/167.png?v=2" type="image/png" />
		<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icon/180.png?v=2" type="image/png" />
		<link rel="apple-touch-icon" sizes="256x256" href="/assets/img/icon/256.png?v=2" type="image/png" />
		
	</head>
	<body>

		<header>
			<h1><a href="/">XR.js</a> ðŸ¥½</h1>
			<p>
				<a href="/examples/">Examples</a>
				<a href="https://github.com/xrscript/XR.js/wiki">Wiki</a>
				<a href="https://github.com/xrscript/XR.js">GitHub</a>
			</p>
		</header>

<script type="module">import * as XR from '/XR.js';
	
// setup XR.js session
new XR.Reality({
	physics:false
});
new XR.Light();
new XR.Floor();

// skyboxes
var imgs = [
	'/assets/img/equirectangular/venice_sunset.jpg',
	'/assets/img/equirectangular/royal_esplanade.jpg',
	'/assets/img/equirectangular/quarry.jpg',
	'/assets/img/equirectangular/bridge.jpg',
	'/assets/img/equirectangular/earth.jpg',
	'/assets/img/equirectangular/sky2.jpg',
	'/assets/img/planets/earth.jpg',
	'/assets/img/planets/jupiter.jpg',
	'/assets/img/planets/mars.jpg',
	'/assets/img/planets/mercury.jpg',
	'/assets/img/planets/moon.jpg',
	'/assets/img/planets/saturn.jpg',
	'/assets/img/planets/stars.jpg',
	'/assets/img/planets/sun.jpg',
	'/assets/img/planets/stars_milky_way.jpg',
	'/assets/img/planets/uranus.jpg',
];

// load a random sky
var item = imgs[Math.floor(Math.random() * imgs.length)];
new XR.Sky({file:item});

// create XR.js logo
new XR.Text({
	text:'XR.js',
	thickness: 0.2,
	color:0xff0000,
	font:'/assets/fonts/helvetiker_bold.json',
	position:[0.1,0.5,-3],
	bevel:true
});

// create dropdown menus
new XR.Dropdown({
	position:[-3,1,-7],
	options:[
		{ name:'Models',    href:'/examples/objects/model/', action: openLink },
		{ name:'Physics',   href:'/examples/physics/',       action: openLink },
		{ name:'Animation', href:'/examples/animate/',       action: openLink }
	]
});

new XR.Dropdown({
	position:[-1,1,-7],
	options:[
	   { name:'Walk',     href:'/examples/locomotion/walk.html',     action: openLink },
	   { name:'Fly',      href:'/examples/locomotion/fly.html',      action: openLink },
	   { name:'Teleport', href:'/examples/locomotion/teleport.html', action: openLink }
	]
});

new XR.Dropdown({
	position:[1,1,-7],
	options:[
		{ name:'Button',   href:'/examples/ui/button.html',   action: openLink },
		{ name:'Dropdown', href:'/examples/ui/dropdown.html', action: openLink },
		{ name:'Text',     href:'/examples/ui/text.html',     action: openLink }
	]
});

new XR.Dropdown({
	position:[3,1,-7],
	options:[
		{ name:'Light',    href:'/examples/objects/light/',    action: openLink },
		{ name:'Geometry', href:'/examples/objects/geometry/', action: openLink },
		{ name:'Models',   href:'/examples/objects/model/',    action: openLink }
	]
});

new XR.Dropdown({
	position:[5,1,-7],
	options:[
		{ name:'Examples', href:'/examples/',                             action: openLink },
		{ name:'Wiki',     href:'https://github.com/xrscript/XR.js/wiki', action: openLink },
		{ name:'GitHub',   href:'https://github.com/xrscript/XR.js/',     action: openLink }
	]
});

var current;
setTimeout(function(){ if (current){ window.location.assign(current); } }, 220);

function openLink(e,href){
	current = href;
	window.location.replace(href);
}

// setup controller and pointer
var controller = new XR.Gamepad();
new XR.Pointer({ bind: controller.right });


// add confetti text
var phrases = [
	'XRscript',
	'I <3 VR',
	'hello world',
	'hire me elon pls',
	'hi mom'
];

// create 100 confetti phrases
for ( let i = 0; i < 100; i ++ ) {
	var options = {
		text:phrases[Math.floor(Math.random() * phrases.length)],
		size:  0.025,
		color: 0xffffff * Math.random(),
		position:[Math.random() * 10 - 5, Math.random() * 10 - 5, Math.random() * 10 - 5],
		rotation:[Math.random() *  2 - 1, Math.random() *  2 - 1, Math.random() *  2 - 1],
		thickness:0.0001
	}
	new XR.Text(options);
}

</script>
			
	</body>
</html>
